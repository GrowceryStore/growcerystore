<!-- {% load static %}
<html>
    <head>
        <title>Login Page</title>
        <link href="{% static 'loggrocerystyle.css' %}" type="text/css" rel="stylesheet" />
        <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet" />
        <link href="{% static 'css/bootstrap-grid.min.css' %}" rel="stylesheet" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
        <link href="https://fonts.googleapis.com/css?family=Nunito:400,600,700,800&display=swap" rel="stylesheet">
    </head>

    <body id="bglog">
        <div class="cont">
            <div class="row">
                <div class="col-md-12 text-center" id="loginpad">
                    <form method="post" action="/logincustomer/">
                        {% csrf_token %}
                        <h2 class="fw-bold">LOGIN</h2>
                        <div class="loginpad">
                            <label class="mb-3">Username</label>
                            {{ form.username }}
                            <label class="pt-4 mb-3">Password</label>
                            {{ form.password1 }}
                            <button id="btn1" type="submit">LOGIN</button>
                        </div>
                    </form>
                </div>
            </div>

            <div class="sub-cont">
                <div class="img">
                    <div class="img-text m-up">
                        <img src="{% static 'images/lo7.png' %}" class="pt-3" />
                        <h1 class="pt-5">New here?</h1>
                        <p>sign up and discover</p>
                    </div>
                    <div class="img-text m-in">
                        <img src="{% static 'images/lo7.png' %}" class="pt-3"/>
                        <h1 class="pt-5">One of us?</h1>
                        <p>Just Login Now</p>
                    </div>
                    <div class="img-btn">
                        <span class="m-up">Sign Up</span>
                        <span class="m-in">Login</span>
                    </div>
                </div>

                <div class="text-center">
                    <div class="sign-up">
                        <div class="row">
                            <div class="col-md-6 offset-3">
                                <div class="row">
                                    <div class="col-md-12">
                                        <form method="post">
                                            {% csrf_token %}
                                            <h2 class="fw-bold pt-4">SIGN UP</h2>
                                            {% for field in form %}
                                            <label class="mb-1 mt-2">{{ field.label }}</label>
                                            {{field}}
                                            {% for error in field.errors %}
                                            <p class="text-danger">{{ error }}</p>
                                            {% endfor %}
                                            {% endfor %}
                                            <button type="submit" id="btn2">Sign Up Now</button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
              
        </div>
        <script type="text/javascript" src="script.js"></script>
  
    </body>

    <script>
        document.querySelector('.img-btn').addEventListener('click', function()
        {
            document.querySelector('.cont').classList.toggle('s-signup')
        }
        );

    </script>
</html>     -->

<!-- <div class="row">
    <div class="col-md-8 offset-2">
        <form method="post">
            {% csrf_token %}
            {% for field in form %}
            <div class="col-md-12">
                <label>{{ field.label }}</label>
                {{ field }}

                {% for error in field.errors %}
                    <p class="text-danger">{{ error }}</p>
                {% endfor %}
            </div>
            {% endfor %}
            <button class="btn btn-warning">Register Now</button>
        </form>
    </div>
</div> -->


{% load static %}
<html>
    <title>Signup/Login</title>
    <head>
        <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet" />
        <link href="{% static 'css/bootstrap-grid.min.css' %}" rel="stylesheet" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link href="{% static 'aos-master/dist/aos.css' %}" rel="stylesheet" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <link href="https://fonts.googleapis.com/css2?family=Bree+Serif&family=Courgette&family=Gentium+Book+Plus:ital@0;1&family=Itim&family=Inspiration&family=Lobster&family=Lobster+Two:ital@0;1&family=Noto+Serif+Khojki&family=Pacifico&family=Playfair+Display:ital@0;1&family=Quicksand&display=swap" rel="stylesheet">
        <script src="{% static 'js/bootstrap.min.js' %}"></script>
        <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/typed.js/2.0.10/typed.min.js"></script>
        <script src="{% static 'aos-master/dist/aos.js' %}"></script>
        <link href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" rel="stylesheet" />
        <link href="{% static 'new.css' %}" type="text/css" rel="stylesheet" />
        <link href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css" rel="stylesheet"  />
        <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>

        <script>
            $(document).ready(function () {
            "use strict";

            var usernameError = true,
                emailError = true,
                passwordError = true,
                passConfirm = true;

            // Detect browser for css purpose
            if (navigator.userAgent.toLowerCase().indexOf("firefox") > -1) {
                $(".form form label").addClass("fontSwitch");
            }

            // Label effect
            $("input").focus(function () {
                $(this).siblings("label").addClass("active");
            });

            // Form validation
            $("input").blur(function () {
                // User Name
                if ($(this).hasClass("name")) {
                if ($(this).val().length === 0) {
                    $(this)
                    .siblings("span.error")
                    .text("Please type your full name")
                    .fadeIn()
                    .parent(".form-group")
                    .addClass("hasError");
                    usernameError = true;
                } else if ($(this).val().length > 1 && $(this).val().length <= 6) {
                    $(this)
                    .siblings("span.error")
                    .text("Please type at least 6 characters")
                    .fadeIn()
                    .parent(".form-group")
                    .addClass("hasError");
                    usernameError = true;
                } else {
                    $(this)
                    .siblings(".error")
                    .text("")
                    .fadeOut()
                    .parent(".form-group")
                    .removeClass("hasError");
                    usernameError = false;
                }
                }
                // Email
                if ($(this).hasClass("email")) {
                if ($(this).val().length == "") {
                    $(this)
                    .siblings("span.error")
                    .text("Please type your email address")
                    .fadeIn()
                    .parent(".form-group")
                    .addClass("hasError");
                    emailError = true;
                } else {
                    $(this)
                    .siblings(".error")
                    .text("")
                    .fadeOut()
                    .parent(".form-group")
                    .removeClass("hasError");
                    emailError = false;
                }
                }

                // PassWord
                if ($(this).hasClass("pass")) {
                if ($(this).val().length < 8) {
                    $(this)
                    .siblings("span.error")
                    .text("Please type at least 8 charcters")
                    .fadeIn()
                    .parent(".form-group")
                    .addClass("hasError");
                    passwordError = true;
                } else {
                    $(this)
                    .siblings(".error")
                    .text("")
                    .fadeOut()
                    .parent(".form-group")
                    .removeClass("hasError");
                    passwordError = false;
                }
                }

                // PassWord confirmation
                if ($(".pass").val() !== $(".passConfirm").val()) {
                $(".passConfirm")
                    .siblings(".error")
                    .text("Passwords don't match")
                    .fadeIn()
                    .parent(".form-group")
                    .addClass("hasError");
                passConfirm = false;
                } else {
                $(".passConfirm")
                    .siblings(".error")
                    .text("")
                    .fadeOut()
                    .parent(".form-group")
                    .removeClass("hasError");
                passConfirm = false;
                }

                // label effect
                if ($(this).val().length > 0) {
                $(this).siblings("label").addClass("active");
                } else {
                $(this).siblings("label").removeClass("active");
                }
            });

            // form switch
            $("a.switch").click(function (e) {
                $(this).toggleClass("active");
                e.preventDefault();

                if ($("a.switch").hasClass("active")) {
                $(this)
                    .parents(".form-peice")
                    .addClass("switched")
                    .siblings(".form-peice")
                    .removeClass("switched");
                } else {
                $(this)
                    .parents(".form-peice")
                    .removeClass("switched")
                    .siblings(".form-peice")
                    .addClass("switched");
                }
            });

            // Form submit
            $("form.signup-form").submit(function (event) {
                event.preventDefault();

                if (
                usernameError == true ||
                emailError == true ||
                passwordError == true ||
                passConfirm == true
                ) {
                $(".name, .email, .pass, .passConfirm").blur();
                } else {
                $(".signup, .login").addClass("switched");

                setTimeout(function () {
                    $(".signup, .login").hide();
                }, 700);
                setTimeout(function () {
                    $(".brand").addClass("active");
                }, 300);
                setTimeout(function () {
                    $(".heading").addClass("active");
                }, 600);
                setTimeout(function () {
                    $(".success-msg p").addClass("active");
                }, 900);
                setTimeout(function () {
                    $(".success-msg a").addClass("active");
                }, 1050);
                setTimeout(function () {
                    $(".form").hide();
                }, 700);
                }
            });

            // Reload page
            $("a.profile").on("click", function () {
                location.reload(true);
            });
            });
        </script>
    </head>
    <body>
        <div class="container">
            <section id="formHolder">
                <div class="row">
        
                    <div class="col-sm-6 brand">
                        <img src="{% static 'images/lo7.png' %}" class="logo" />
                        <h2 id="heading">GROWCERY  STORE</h2>
                        <h5 id="para">The best place to be is at our store.</h5>
                    </div>
                    
            
                    <div class="col-sm-6 form">
            
                        <div class="login form-peice switched">
                            {% if 'next' in request.GET %}
                            <form method="post" action="/logincustomer/?next={{request.GET.next}}">
                                {% else %}
                                <form method="post" action="/logincustomer/">
                                    {% endif %}
                                    {% csrf_token %}
                                    <div class="form-group">
                                        
                                        {{ form.username }}
                                        
                                        {{ form.password1 }}
                                    </div>   
                                    <div class="CTA"> 
                                        <button type="submit" id="btn2">LOGIN</button>                          
                                        <a href="#" class="switch">I'm New</a>
                                        <a href="/password-reset/" class="text-secondary text-decoration-underline fa-xs">Forget Password</a>
                                    </div>
                                
                            </form>
                        </div>    

                        <div class="signup form-peice">
                            {% if 'next' in request.GET %}
                            <form method="post" action="/signup/?next={{request.GET.next}}">
                                {% else %}
                                <form method="post" action="/signup/" >
                                    {% endif %}
                                    {% csrf_token %}
                                    {% for field in form %} 
                                    {{field}}
                                    {% for error in field.errors %}
                                    <p class="text-danger">{{ error }}</p>
                                    {% endfor %}
                                    {% endfor %}
                                    <div class="CTA ps-4"> 
                                        <button type="submit" id="btn1">SIGN UP</button>     
                                        <a href="#" class="switch ps-5">I have an account</a>
                                    </div>
                                
                            </form>
                        </div>

                    </div>
                </div>
            </section>
        </div>
    </body>
</html>